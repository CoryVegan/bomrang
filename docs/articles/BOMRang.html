<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
<em>bomrang</em>: Fetch Australian Government Bureau of Meteorology (BOM) Data • bomrang</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">bomrang</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ToowoombaTrio/bomrang">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>
<em>bomrang</em>: Fetch Australian Government Bureau of Meteorology (BOM) Data</h1>
                        <h4 class="author">Adam H Sparks</h4>
            
            <h4 class="date">2017-05-15</h4>
          </div>

    
    
<div class="contents">
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><em>bomrang</em> provides functions for interacting with <a href="http://www.bom.gov.au/catalogue/data-feeds.shtml">Australian Bureau of Meteorology (BOM) Weather Data Services</a> forecasts. BOM serves forecasts as XML files. This package fetches the forecast, parses it and returns a tidy dataframe for use in R.</p>
</div>
<div id="using-bomrang" class="section level2">
<h2 class="hasAnchor">
<a href="#using-bomrang" class="anchor"></a>Using <em>bomrang</em>
</h2>
<p>Three functions are provided by <em>bomrang</em>. The two main functions are <code><a href="../reference/get_forecast.html">get_forecast()</a></code>, which creates a data frame of the daily forecast from BOM, and <code><a href="../reference/get_bulletin.html">get_bulletin()</a></code>, which creates a data frame of agriculture bulletin information. The third function, <code><a href="../reference/update_locations.html">update_locations()</a></code>, updates an internal database of forecast locations distributed with the package.</p>
<div id="using-get_forecast" class="section level3">
<h3 class="hasAnchor">
<a href="#using-get_forecast" class="anchor"></a>Using <code><a href="../reference/get_forecast.html">get_forecast()</a></code>
</h3>
<p>This function only takes one parameter, <code>state</code>. The <code>state</code> parameter allows the user to select the forecast for just one state or a national forecast. States are specified using the official postal codes,</p>
<p><strong>ACT</strong> - Australian Capital Territory<br><strong>NSW</strong> - New South Wales<br><strong>NT</strong> - Northern Territory<br><strong>QLD</strong> - Queensland<br><strong>SA</strong> - South Australia<br><strong>TAS</strong> - Tasmania<br><strong>VIC</strong> - Tasmania<br><strong>WA</strong> - Western Australia<br><strong>AUS</strong> - Australia, returns forecast for all states</p>
</div>
<div id="results" class="section level3">
<h3 class="hasAnchor">
<a href="#results" class="anchor"></a>Results</h3>
<p>The function, <code><a href="../reference/get_forecast.html">get_forecast()</a></code> will return a Tibble of the weather forecast for the daily forecast with the following fields,</p>
<p><strong>aac</strong> - AMOC Area Code, e.g. WA_MW008, a unique identifier for each location<br><strong>start_time_local</strong> - Start of forecast date and time in local TZ<br><strong>end_time_local</strong> - End of forecast date and time in local TZ<br><strong>start_time_utc</strong> - Start of forecast date and time in UTC<br><strong>end_time_utc</strong> - End of forecast date and time in UTC<br><strong>max_temp</strong> - Maximum forecasted temperature (degrees Celsius)<br><strong>min_temp</strong> - Minimum forecasted temperature (degrees Celsius)<br><strong>lower_prcp_limit</strong> - Lower forecasted precipitation limit (millimetres)<br><strong>upper_prcp_limit</strong> - Upper forecasted precipitation limit (millimetres)<br><strong>precis</strong> - Précis forecast (a short summary, less than 30 characters)<br><strong>prob_prcp</strong> - Probability of precipitation (percent)<br><strong>location</strong> - Named location for forecast<br><strong>state</strong> - State name (postal code abbreviation)<br><strong>lon</strong> - Longitude of named location (decimal degrees)<br><strong>lat</strong> - Latitude of named location (decimal degrees)<br><strong>elev</strong> - Elevation of named location (metres)</p>
</div>
<div id="examples" class="section level3">
<h3 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h3>
<p>Following is an example fetching the forecast for Queensland.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"bomrang"</span>)

QLD_forecast &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_forecast.html">get_forecast</a></span>(<span class="dt">state =</span> <span class="st">"QLD"</span>)
QLD_forecast</code></pre></div>
<pre><code>## # A tibble: 896 × 17
##          aac index          start_time_local            end_time_local
##        &lt;chr&gt; &lt;chr&gt;                     &lt;chr&gt;                     &lt;chr&gt;
## 1  QLD_PT038     0 2017-05-15T17:00:00+10:00 2017-05-16T00:00:00+10:00
## 2  QLD_PT038     1 2017-05-16T00:00:00+10:00 2017-05-17T00:00:00+10:00
## 3  QLD_PT038     2 2017-05-17T00:00:00+10:00 2017-05-18T00:00:00+10:00
## 4  QLD_PT038     3 2017-05-18T00:00:00+10:00 2017-05-19T00:00:00+10:00
## 5  QLD_PT038     4 2017-05-19T00:00:00+10:00 2017-05-20T00:00:00+10:00
## 6  QLD_PT038     5 2017-05-20T00:00:00+10:00 2017-05-21T00:00:00+10:00
## 7  QLD_PT038     6 2017-05-21T00:00:00+10:00 2017-05-22T00:00:00+10:00
## 8  QLD_PT038     7 2017-05-22T00:00:00+10:00 2017-05-23T00:00:00+10:00
## 9  QLD_PT045     0 2017-05-15T17:00:00+10:00 2017-05-16T00:00:00+10:00
## 10 QLD_PT045     1 2017-05-16T00:00:00+10:00 2017-05-17T00:00:00+10:00
## # ... with 886 more rows, and 13 more variables: start_time_utc &lt;chr&gt;,
## #   end_time_utc &lt;chr&gt;, maximum_temperature &lt;dbl&gt;,
## #   minimum_temperature &lt;dbl&gt;, lower_prec_limit &lt;dbl&gt;,
## #   upper_prec_limit &lt;chr&gt;, precis &lt;chr&gt;,
## #   probability_of_precipitation &lt;chr&gt;, location &lt;chr&gt;, state &lt;chr&gt;,
## #   lon &lt;dbl&gt;, lat &lt;dbl&gt;, elev &lt;dbl&gt;</code></pre>
</div>
<div id="using-get_bulletin" class="section level3">
<h3 class="hasAnchor">
<a href="#using-get_bulletin" class="anchor"></a>Using <code><a href="../reference/get_bulletin.html">get_bulletin()</a></code>
</h3>
<p>This function only takes one parameter, <code>state</code>. The <code>state</code> parameter allows the user to select the bulletin for just one state or a national forecast. States are specified using the official postal codes,</p>
<p><strong>ACT</strong> - Australian Capital Territory<br><strong>NSW</strong> - New South Wales<br><strong>NT</strong> - Northern Territory<br><strong>QLD</strong> - Queensland<br><strong>SA</strong> - South Australia<br><strong>TAS</strong> - Tasmania<br><strong>VIC</strong> - Tasmania<br><strong>WA</strong> - Western Australia<br><strong>AUS</strong> - Australia, returns forecast for all states</p>
</div>
<div id="results-1" class="section level3">
<h3 class="hasAnchor">
<a href="#results-1" class="anchor"></a>Results</h3>
<p>The function, <code><a href="../reference/get_bulletin.html">get_bulletin()</a></code> will return a Tibble of the agriculture bulletin for Queensland with the following fields,</p>
<p><strong>obs-time-utc</strong> - Observation time (Time in UTC)<br><strong>time-zone</strong> - Time zone for observation<br><strong>site</strong> - Unique BOM identifier for each station<br><strong>name</strong> - BOM station name<br><strong>r</strong> - Rain to 9am (millimetres). \strong{Trace will be reported as 0.01<br><strong>tn</strong> - Minimum temperature (degrees Celsius)<br><strong>tx</strong> - Maximum temperature (degrees Celsius)<br><strong>twd</strong> - Wetbulb depression (degress Celsius)<br><strong>ev</strong> - Evaporation (millimetres)<br><strong>tg</strong> - Terrestrial minimum temperature (degress Celsius)<br><strong>sn</strong> - Sunshine (Hours)<br><strong>t5</strong> - 5cm soil temperature (Celsius)<br><strong>t10</strong> - 10cm soil temperature (Celsius)<br><strong>t20</strong> - 20cm soil temperature (Celsius)<br><strong>t50</strong> - 50cm soil temperature (Celsius)<br><strong>t1m</strong> - 1m soil temperature (Celsius)<br><strong>wr</strong> - Wind run (kilometres)<br><strong>state</strong> - State name (postal code abbreviation)<br><strong>lat</strong> - Latitude (decimal degrees)<br><strong>lon</strong> - Longitude (decimal degrees)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"bomrang"</span>)

QLD_bulletin &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_bulletin.html">get_bulletin</a></span>(<span class="dt">state =</span> <span class="st">"QLD"</span>)
QLD_bulletin</code></pre></div>
<pre><code>## # A tibble: 26 × 20
##    `obs-time-utc` `time-zone`  site                     name     r    tn
##            &lt;fctr&gt;      &lt;fctr&gt; &lt;chr&gt;                    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   20170514T2300         EST 38026       BIRDSVILLE AIRPORT  0.00  11.6
## 2   20170514T2300         EST 38003           BOULIA AIRPORT  0.00  14.5
## 3   20170514T2300         EST 40842            BRISBANE AERO  0.80  14.9
## 4   20170514T2300         EST 39128           BUNDABERG AERO  0.00  15.0
## 5   20170514T2300         EST 31011              CAIRNS AERO  0.00  19.4
## 6   20170514T2300         EST 44021         CHARLEVILLE AERO  1.20   7.2
## 7   20170514T2300         EST 33013 COLLINSVILLE POST OFFICE  0.01  15.0
## 8   20170514T2300         EST 41522            DALBY AIRPORT  4.60  10.5
## 9   20170514T2300         EST 30124       GEORGETOWN AIRPORT  0.00  13.4
## 10  20170514T2300         EST 32078         INGHAM COMPOSITE  0.01  17.3
## # ... with 16 more rows, and 14 more variables: tx &lt;dbl&gt;, twd &lt;dbl&gt;,
## #   ev &lt;dbl&gt;, tg &lt;dbl&gt;, sn &lt;dbl&gt;, t5 &lt;dbl&gt;, t10 &lt;dbl&gt;, t20 &lt;dbl&gt;,
## #   t50 &lt;dbl&gt;, t1m &lt;dbl&gt;, wr &lt;dbl&gt;, state &lt;chr&gt;, lat &lt;dbl&gt;, lon &lt;dbl&gt;</code></pre>
</div>
<div id="using-update_locations" class="section level3">
<h3 class="hasAnchor">
<a href="#using-update_locations" class="anchor"></a>Using <code><a href="../reference/update_locations.html">update_locations()</a></code>
</h3>
<p>This function downloads the latest precis forecast locations from the BOM server and updates <em>bomrang</em>’s internal database of forecast locations. There is no need to use this unless you know that a forecast location exists in a more current version of the BOM forecast location database that is not available in the database distributed with <em>bomrang</em>. This database is distributed with the package to make the process faster when fetching the forecast.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/update_locations.html">update_locations</a></span>()</code></pre></div>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p><a href="http://www.bom.gov.au/catalogue/data-feeds.shtml">Australian Bureau of Meteorology (BOM) Weather Data Services</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#using-bomrang">Using <em>bomrang</em></a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Adam Sparks, Keith Pembleton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
